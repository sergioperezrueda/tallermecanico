<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Proyecto final de ciclo">
<meta name="author" content="Sergio Pérez Rueda">

<title>facturas</title>
<!-- Bootstrap core CSS -->
<link href="/webjars/bootstrap/css/bootstrap.min.css" rel="stylesheet">

<!-- Custom styles for this template -->
<link href="/css/styles.css" rel="stylesheet">



<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
	<div class="jumbotron">
		<div class="container text-center">
			<h1>Facturas</h1>
		</div>
	</div>
	<div class="starter-template">

		<table class="table">
			<thead>
				<tr>
					<th>fecha</th>
					<th>descripcion</th>
					<th>importe</th>
					<th>pagada</th>
					<th>coche</th>
					<th>usuario</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each="factura : ${facturas}">
					<td th:text="${factura.fecha}"></td>
					<td th:text="${factura.descripcion}"></td>
					<td th:text="${factura.importe}"></td>
					<td th:text="${factura.pagada}"></td>
					<td th:text="${factura.id_coche.matricula}"></td>
					<td
						th:text="${factura.id_usuario.nombre} + ' ' + ${factura.id_usuario.apellidos}"></td>
				</tr>
			</tbody>

		</table>
	</div>
	<div>
		<form id="signupform" class="form-horizontal" role="form"
			method="POST" enctype="multipart/form-data"
			th:action="@{/nuevafactura}" th:object="${factura}">
			<fieldset>
				<legend>Datos de la factura</legend>
				<table>
					<tr>
						<td><label for="descripcion" class="col-md-3 control-label">Descripción:</label></td>
						<td><input type="text" class="form-control"
							name="descripcion" placeholder="Descripcion"
							th:field="*{descripcion}"></td>
					</tr>

					<tr>
						<td><label for="importe" class="col-md-3 control-label">Importe:</label></td>
						<td><input type="text" class="form-control" name="importe"
							placeholder="Importe" th:field="*{importe}"></td>
					</tr>

					<tr>
						<td><label for="id_usuario" class="col-md-3 control-label">Usuario:</label></td>
						<td><input type="text" class="form-control" name="id_usuario"
							placeholder="Id_usuario" th:field="*{id_usuario}"></td>
					</tr>
					<tr>
						<td><label for="id_coche" class="col-md-3 control-label">Coche:</label></td>
						<td><input type="text" class="form-control" name="id_coche"
							placeholder="Id_coche" th:field="*{id_coche}"></td>
					</tr>

					<tr>
						<td><select name="pagada" th:field="*{pagada}">
								<option selected="selected" value="NO">No pagada</option>
								<option value="SI">Pagada</option>
						</select></td>
					</tr>

					<tr>
						<td>
							<button type="submit">Guardar factura</button>
						</td>
					</tr>
				</table>
			</fieldset>
		</form>
	</div>





	<form th:action="@{/auth/logout}" method="POST" id="logoutForm"></form>
	<script
		src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"
		th:src="@{/webjars/jquery/jquery.min.js}"></script>
	<script
		src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
		th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>


	<!-- Bootstrap core JavaScript
    ================================================== -->
	<!-- Placed at the end of the document so the pages load faster -->
	<script src="/webjars/jquery/jquery.min.js"></script>
	<script src="/webjars/bootstrap/js/bootstrap.min.js"></script>


</body>
</html>